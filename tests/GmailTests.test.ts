import {GmailUrlDecoder} from "@main/google/GmailUrlDecoder";
import {GmailDownloader} from "@main/downloader/downloaders/GmailDownloader";
import {gmail_v1} from "googleapis";
import Schema$MessagePart = gmail_v1.Schema$MessagePart;
import jetpack from "fs-jetpack";
import {FSJetpack} from "fs-jetpack/types";
import fetch from 'node-fetch';
import * as main from "@main/main";
jest.mock('@main/main', () => {
        return {
            getGoogleAuth: () => {
                return {
                    getOauthClient: jest.fn()
                }
            },
            getEventsDispatcher: () => {
                return {
                    register: jest.fn()
                }
            }
        }
    }
);


describe("Gmail Hash Checks", () => {
    let decoder = new GmailUrlDecoder();

    test('Hashed value to ID', () => {
        expect(decoder.parseUrlEncoding('FMfcgzGlksGwwZJpPFLNLmLzmZCclDPB')).toBe('17D2EE6039DC7D2C');
    });

    test('Random Text', () => {
        expect(decoder.parseUrlEncoding('chimmychonga')).toBeNull();
    });

    test('Full URL to ID', () => {
        expect(decoder.parseFullUrl('https://mail.google.com/mail/u/0/#inbox/FMfcgzGlksGwwZJpPFLNLmLzmZCclDPB')).toBe('17D2EE6039DC7D2C');
    });

    test("Full URL to ID 2", () => {
        expect(decoder.parseFullUrl('https://mail.google.com/mail/u/1/#inbox/FMfcgzGllMGjNhfHsmbPwcTwtFFfZljw')).toBe("17D85BA712C497F3")
    });

    test('URL incorrect ID', () => {
        expect(decoder.parseFullUrl('https://mail.google.com/mail/u/0/#inbox/FMasdasdasGwwZJpPFLNLmLzmZCclDPB')).toBeNull();
    });

});

describe('Gmail Parse Checks', () => {
    let downloader = new GmailDownloader();
    let rootDir: FSJetpack;


    beforeAll(() => {
        rootDir = jetpack.dir("./temp_test", {empty: true});
    });

    test('Part Decoding Test', () => {
        rootDir.dir("test-one");
        let partObj:Schema$MessagePart = JSON.parse("          {\n" +
            "            \"partId\": \"0\",\n" +
            "            \"mimeType\": \"text/plain\",\n" +
            "            \"filename\": \"\",\n" +
            "            \"headers\": [\n" +
            "              {\n" +
            "                \"name\": \"Content-Transfer-Encoding\",\n" +
            "                \"value\": \"quoted-printable\"\n" +
            "              },\n" +
            "              {\n" +
            "                \"name\": \"Content-Type\",\n" +
            "                \"value\": \"text/plain; charset=utf-8\"\n" +
            "              },\n" +
            "              {\n" +
            "                \"name\": \"Mime-Version\",\n" +
            "                \"value\": \"1.0\"\n" +
            "              }\n" +
            "            ],\n" +
            "            \"body\": {\n" +
            "              \"size\": 1488,\n" +
            "              \"data\": \"MjAyMSBHaWZ0IGd1aWRlcywgZmluZCBkZXZpY2VzIGZvciBldmVyeW9uZSBvbiB5b3VyIGxpc3QgKCBodHRwczovL2lmdHR0LmNvbS9leHBsb3JlL2dpZnR0dC1ndWlkZS0yMDIxICkNCg0KQ2hlY2sgb3V0IGFsbCBvZiBvdXIgaG9saWRheSBjb2xsZWN0aW9ucyBhbmQgQXBwbGV0cyAoIGh0dHBzOi8vaWZ0dHQuY29tL2V4cGxvcmUvc21hcmhvbWUtZm9yLXRoZS1ob2xpZGF5cyApDQoNCk5ldyBvbiBJRlRUVCB0aGlzIG1vbnRoOiBNaWNyb3NvZnQgVG8gRG8gYW5kIG1vcmUgKCBodHRwczovL2lmdHR0LmNvbS9leHBsb3JlL25ldy1vbi1JRlRUVC1tb250aGx5ICkNCg0KbmV3IGFuZCB0cmVuZGluZyBBcHBsZXRzIG9mIHRoZSB3ZWVrICggaHR0cHM6Ly9pZnR0dC5jb20vZXhwbG9yZS9uZXctYXBwbGV0cyApDQoNCk5ldyB0cmlnZ2VycywgcXVlcmllcywgYW5kIGFjdGlvbnMgZnJvbSB0aGlzIG1vbnRoICggaHR0cHM6Ly9pZnR0dC5jb20vZXhwbG9yZS9uZXctdHJpZ2dlcnMtYWN0aW9ucy1xdWVyaWVzLW5vdmVtYmVyLTIwMjEgKQ0KDQpJRlRUVCAoIGh0dHBzOi8vaWZ0dHQuY29tLz91dG1fbWVkaXVtPUVtYWlsJnV0bV9zb3VyY2U9Q3VzdG9tZXJpbyZ1dG1fY2FtcGFpZ249VXNlcl9UZW1wbGF0ZSZ1dG1fdGVybT1JRlRUVF9Mb2dvJnV0bV9jb250ZW50PSApDQoNCkRvd25sb2FkIElGVFRUIGZvciBpT1MgKCBodHRwczovL2l0dW5lcy5hcHBsZS5jb20vYXBwL2FwcGxlLXN0b3JlL2lkNjYwOTQ0NjM1P3B0PTE3NTI2ODImY3Q9Q3VzdG9tZXJpby1FbWFpbC1Gb290ZXJzJm10PTggKQ0KDQpEb3dubG9hZCBJRlRUVCBmb3IgQW5kcm9pZCAoIGh0dHBzOi8vcGxheS5nb29nbGUuY29tL3N0b3JlL2FwcHMvZGV0YWlscz9pZD1jb20uaWZ0dHQuaWZ0dHQmcmVmZXJyZXI9dXRtX3NvdXJjZSUzREN1c3RvbWVyaW8tRW1haWwtRm9vdGVyICkNCg0KSUZUVFQgwrcgUOKAi08gQm94IDU54oCLMDU04oCLNyDCtyBTYeKAi24gRnJhbmPigItpc2NvLCBDYWxpZuKAi29ybmlhIMK3IDk0MeKAizU5DQoNClVuc3Vic2NyaWJlICggaHR0cDovL2lmdHR0LmNvbS91bnN1YnNjcmliZT9zdWJzY3JpcHRpb249bmV3c2xldHRlciZ1bnN1YnNjcmliZV9rZXk9MjE3MTczMDg6NjJiMDBjZjk4OWFjYWU5NmU0MmUwYmE2OWMwMDc4MmMmdXRtX21lZGl1bT1FbWFpbCZ1dG1fc291cmNlPUN1c3RvbWVyaW8mdXRtX2NhbXBhaWduPVVzZXJfVGVtcGxhdGUmdXRtX3Rlcm09VW5zdWJzY3JpYmVfRm9vdGVyJnV0bV9jb250ZW50PVVuc3Vic2NyaWJlX0xpbmsgKSBmcm9tIG5ld3MsIHRpcHMsIGFuZCBmZWF0dXJlcw0Kb3IgbWFuYWdlIHlvdXIgZW1haWwNCnByZWZlcmVuY2VzICggaHR0cHM6Ly9pZnR0dC5jb20vc2V0dGluZ3M_dXRtX21lZGl1bT1FbWFpbCZ1dG1fc291cmNlPUN1c3RvbWVyaW8mdXRtX2NhbXBhaWduPVVzZXJfVGVtcGxhdGUmdXRtX3Rlcm09VW5zdWJzY3JpYmVfRm9vdGVyJnV0bV9jb250ZW50PUVtYWlsX1ByZWZlcmVuY2VzICku\"\n" +
            "            }\n" +
            "          }");
        downloader.handlePart("./temp_test/test-one/", "", partObj);
        expect(jetpack.exists("./temp_test/test-one/2VZICKU.txt")).toBe("file");
    });

    test("HTML Part Decoding", async () => {
        rootDir.dir('test-two');
        let partObj: Schema$MessagePart = JSON.parse("{\n" +
            "            \"partId\": \"1\",\n" +
            "            \"mimeType\": \"text/html\",\n" +
            "            \"filename\": \"\",\n" +
            "            \"headers\": [\n" +
            "              {\n" +
            "                \"name\": \"Content-Transfer-Encoding\",\n" +
            "                \"value\": \"quoted-printable\"\n" +
            "              },\n" +
            "              {\n" +
            "                \"name\": \"Content-Type\",\n" +
            "                \"value\": \"text/html; charset=utf-8\"\n" +
            "              },\n" +
            "              {\n" +
            "                \"name\": \"Mime-Version\",\n" +
            "                \"value\": \"1.0\"\n" +
            "              }\n" +
            "            ],\n" +
            "            \"body\": {\n" +
            "              \"size\": 24462,\n" +
            "              \"data\": \"PCFET0NUWVBFIGh0bWwgUFVCTElDICItLy9XM0MvL0RURCBYSFRNTCAxLjAgVHJhbnNpdGlvbmFsLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL1RSL3hodG1sMS9EVEQveGh0bWwxLXRyYW5zaXRpb25hbC5kdGQiPjxodG1sIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgeG1sbnM6dj0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiIHhtbG5zOm89InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSI-PGhlYWQ-DQoJPCEtLVtpZiBndGUgbXNvIDldPg0KCTx4bWw-DQoJCTxvOk9mZmljZURvY3VtZW50U2V0dGluZ3M-DQoJCTxvOkFsbG93UE5HLz4NCgkJPG86UGl4ZWxzUGVySW5jaD45NjwvbzpQaXhlbHNQZXJJbmNoPg0KCQk8L286T2ZmaWNlRG9jdW1lbnRTZXR0aW5ncz4NCgk8L3htbD4NCgk8IVtlbmRpZl0tLT4NCgk8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LXR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCIvPg0KCTxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xIi8-DQoJPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIi8-DQoJPG1ldGEgbmFtZT0iZm9ybWF0LWRldGVjdGlvbiIgY29udGVudD0iZGF0ZT1ubyIvPg0KCTxtZXRhIG5hbWU9ImZvcm1hdC1kZXRlY3Rpb24iIGNvbnRlbnQ9ImFkZHJlc3M9bm8iLz4NCgk8bWV0YSBuYW1lPSJmb3JtYXQtZGV0ZWN0aW9uIiBjb250ZW50PSJ0ZWxlcGhvbmU9bm8iLz4NCgk8bWV0YSBuYW1lPSJ4LWFwcGxlLWRpc2FibGUtbWVzc2FnZS1yZWZvcm1hdHRpbmciLz4NCg0KICA8dGl0bGU-RW1haWwgVGVtcGxhdGU8L3RpdGxlPg0KCTwhLS1baWYgZ3RlIG1zbyA5XT4NCgk8c3R5bGUgdHlwZT0idGV4dC9jc3MiIG1lZGlhPSJhbGwiPg0KCQlzdXAgeyBmb250LXNpemU6IDEwMCUgIWltcG9ydGFudDsgfQ0KCTwvc3R5bGU-DQoJPCFbZW5kaWZdLS0-DQoJPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkJLyogT25seSBjbGFzc2VzIGFjY2VwdGVkICovDQoJCS5wIHsNCgkJCXBhZGRpbmc6IDAgIWltcG9ydGFudDsNCgkJCW1hcmdpbjogMCAhaW1wb3J0YW50Ow0KCQl9DQoNCgkJLmJvZHkgew0KCQkJcGFkZGluZzogMCAhaW1wb3J0YW50Ow0KCQkJbWFyZ2luOiAwICFpbXBvcnRhbnQ7DQoJCQlkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50Ow0KCQkJbWluLXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7DQoJCQl3aWR0aDogMTAwJSAhaW1wb3J0YW50Ow0KCQkJYmFja2dyb3VuZDogI2ZmZmZmZjsNCgkJCS13ZWJraXQtdGV4dC1zaXplLWFkanVzdDogbm9uZTsNCgkJfQ0KDQoJCS5tLXRkIHsNCgkJCWZvbnQtc2l6ZTogMHB0Ow0KCQkJbGluZS1oZWlnaHQ6IDBwdDsNCgkJCXRleHQtYWxpZ246IGxlZnQ7DQoJCX0NCg0KCQkucmVzcG9uc2l2ZS1pbWFnZSB7DQoJCQlmb250LXNpemU6IDBwdDsNCgkJCWxpbmUtaGVpZ2h0OiAwcHQ7DQoJCQl0ZXh0LWFsaWduOiBsZWZ0Ow0KCQl9DQoNCgkJLnNwYWNlciB7DQoJCQlmb250LXNpemU6IDBwdDsNCgkJCWxpbmUtaGVpZ2h0OiAwcHQ7DQoJCQl0ZXh0LWFsaWduOiBjZW50ZXI7DQoJCQl3aWR0aDogMTAwJTsNCgkJCW1pbi13aWR0aDogMTAwJTsNCgkJfQ0KDQoJCS5ib3JkZXIgew0KCQkJZm9udC1zaXplOiAwcHQ7DQoJCQlsaW5lLWhlaWdodDogMHB0Ow0KCQkJdGV4dC1hbGlnbjogY2VudGVyOw0KCQkJd2lkdGg6IDEwMCU7DQoJCQltaW4td2lkdGg6IDEwMCU7DQoJCX0NCg0KCQkuY29sdW1uIHsNCgkJCWZvbnQtc2l6ZTogMHB0Ow0KCQkJbGluZS1oZWlnaHQ6IDBwdDsNCgkJCXBhZGRpbmc6IDA7DQoJCQltYXJnaW46IDA7DQoJCQlmb250LXdlaWdodDogNDAwOw0KCQkJTWFyZ2luOiAwOw0KCQl9DQoNCgkJLmFwcGxldC1jb2x1bW4gew0KCQkJZm9udC1zaXplOiAwcHQ7DQoJCQlsaW5lLWhlaWdodDogMHB0Ow0KCQkJcGFkZGluZzogMDsNCgkJCW1hcmdpbjogMDsNCgkJCWZvbnQtd2VpZ2h0OiA0MDA7DQoJCQl2ZXJ0aWNhbC1hbGlnbjogdG9wOw0KCQkJTWFyZ2luOiAwOw0KCQl9DQoNCgkJLmNvbHVtbi1ib3R0b20gew0KCQkJZm9udC1zaXplOiAwcHQ7DQoJCQlsaW5lLWhlaWdodDogMHB0Ow0KCQkJcGFkZGluZzogMDsNCgkJCW1hcmdpbjogMDsNCgkJCWZvbnQtd2VpZ2h0OiA0MDA7DQoJCQl2ZXJ0aWNhbC1hbGlnbjogYm90dG9tOw0KCQkJTWFyZ2luOiAwOw0KCQl9DQoNCgkJLmNvbHVtbi1kaXIgew0KCQkJZm9udC1zaXplOiAwcHQ7DQoJCQlsaW5lLWhlaWdodDogMHB0Ow0KCQkJcGFkZGluZzogMDsNCgkJCW1hcmdpbjogMDsNCgkJCWZvbnQtd2VpZ2h0OiA0MDA7DQoJCQlkaXJlY3Rpb246IGx0cjsNCgkJCU1hcmdpbjogMDsNCgkJfQ0KDQoJCS5jb2x1bW4tZGlyLXRvcCB7DQoJCQlmb250LXNpemU6IDBwdDsNCgkJCWxpbmUtaGVpZ2h0OiAwcHQ7DQoJCQlwYWRkaW5nOiAwOw0KCQkJbWFyZ2luOiAwOw0KCQkJZm9udC13ZWlnaHQ6IDQwMDsNCgkJCWRpcmVjdGlvbjogbHRyOw0KCQkJdmVydGljYWwtYWxpZ246IHRvcDsNCgkJCU1hcmdpbjogMDsNCgkJfQ0KDQoJCS5jb2x1bW4tZGlyLWJvdHRvbSB7DQoJCQlmb250LXNpemU6IDBwdDsNCgkJCWxpbmUtaGVpZ2h0OiAwcHQ7DQoJCQlwYWRkaW5nOiAwOw0KCQkJbWFyZ2luOiAwOw0KCQkJZm9udC13ZWlnaHQ6IDQwMDsNCgkJCWRpcmVjdGlvbjogbHRyOw0KCQkJdmVydGljYWwtYWxpZ246IGJvdHRvbTsNCgkJCU1hcmdpbjogMDsNCgkJfQ0KDQoJCS50ZCB7DQoJCQl3aWR0aDogMTAwJTsNCgkJCW1pbi13aWR0aDogMTAwJTsNCgkJCWZvbnQtc2l6ZTogMHB0Ow0KCQkJbGluZS1oZWlnaHQ6IDBwdDsNCgkJCXBhZGRpbmc6IDA7DQoJCQltYXJnaW46IDA7DQoJCQlmb250LXdlaWdodDogNDAwOw0KCQkJbWFyZ2luOiAwOw0KCQl9DQoNCgkJdGQgew0KCQkJbWF4LXdpZHRoOiA2NDBweDsNCgkJfQ0KCQl0ZC5ucHMNCgkJew0KCQkgIGRpc3BsYXk6YmxvY2s7DQoJCSAgdGV4dC1hbGlnbjogY2VudGVyOw0KCQkgIGFsaWduOiBjZW50ZXI7DQoJCSAgaGVpZ2h0OiA0MDsNCgkJICB3aWR0aDogMTAwJTsNCg0KCQl9DQoNCgkJYS5ucHMNCgkJew0KCQlib3JkZXI6IDFweCBzb2xpZCAjMDAwMDAwOw0KCQlib3JkZXItcmFkaXVzOiAzcHg7DQoJCWJhY2tncm91bmQ6ICMwMDAwMDA7DQoJCWNvbG9yOiAjZmZmZmZmOw0KCQlmb250LXdlaWdodDogYm9sZDsNCgkJdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KCQlsaW5lLWhlaWdodDogNDBweDsNCgkJd2lkdGg6IDkwJTsNCgkJbWluLXdpZHRoOiAyNXB4Ow0KCQlkaXNwbGF5OmlubGluZS1ibG9jazsNCgkJY29sb3I6ICNmZmZmZmY7DQoJCW1zby1oaWRlOiBhbGw7DQoJCX0NCg0KCQkuaW1nIHsNCgkJCWZvbnQtc2l6ZTogMHB0Ow0KCQkJbGluZS1oZWlnaHQ6IDBwdDsNCgkJCXRleHQtYWxpZ246IGxlZnQ7DQoJCX0NCg0KCQkuaW1nLWNlbnRlciB7DQoJCQlmb250LXNpemU6IDBwdDsNCgkJCWxpbmUtaGVpZ2h0OiAwcHQ7DQoJCQl0ZXh0LWFsaWduOiBjZW50ZXI7DQoJCX0NCg0KCQkuaW1nLXJpZ2h0IHsNCgkJCWZvbnQtc2l6ZTogMHB0Ow0KCQkJbGluZS1oZWlnaHQ6IDBwdDsNCgkJCXRleHQtYWxpZ246IHJpZ2h0Ow0KCQl9DQoNCgkJLmxpbmsgew0KCQkJY29sb3I6ICMwMDAwMDA7DQoJCQl0ZXh0LWRlY29yYXRpb246IG5vbmU7DQoJCX0NCg0KCQkubGluay11IHsNCgkJCWNvbG9yOiAjMDAwMDAwOw0KCQkJdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7DQoJCX0NCg0KCQkubGluay1mb290ZXIgew0KCQkJY29sb3I6ICM5OTk5OTk7DQoJCQl0ZXh0LWRlY29yYXRpb246IG5vbmU7DQoJCX0NCg0KCQkubGluay1mb290ZXItdSB7DQoJCQljb2xvcjogIzk5OTk5OTsNCgkJCXRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOw0KCQl9DQoNCgkJLmxpbmstd2hpdGUgew0KCQkJY29sb3I6ICNmZmZmZmY7DQoJCQl0ZXh0LWRlY29yYXRpb246IG5vbmU7DQoJCX0NCg0KCQkubGluay13aGl0ZS11IHsNCgkJCWNvbG9yOiAjZmZmZmZmOw0KCQkJdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7DQoJCX0NCg0KCQkudGV4dCB7DQoJCQljb2xvcjogIzAwMDAwMDsNCgkJCWZvbnQtZmFtaWx5OiAnQXZlbmlyTmV4dCcsICdBdmVuaXInLCAnSGVsdmV0aWNhIE5ldWUnLCAnSGVsdmV0aWNhJywgJ0FyaWFsJywgJ3NhbnMtc2VyaWYnOw0KCQkJZm9udC1zaXplOiAyNHB4Ow0KCQkJbGluZS1oZWlnaHQ6IDMycHg7DQoJCQl0ZXh0LWFsaWduOiBsZWZ0Ow0KCQkJZm9udC13ZWlnaHQ6IDQwMDsNCg0KCQl9DQoNCgkJLnRleHQtc2VtaWJvbGQgew0KCQkJY29sb3I6ICMwMDAwMDA7DQoJCQlmb250LWZhbWlseTogJ0F2ZW5pck5leHQnLCAnQXZlbmlyJywgJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsICdzYW5zLXNlcmlmJzsNCgkJCWZvbnQtc2l6ZTogMjRweDsNCgkJCWxpbmUtaGVpZ2h0OiAzMnB4Ow0KCQkJdGV4dC1hbGlnbjogbGVmdDsNCgkJCWZvbnQtd2VpZ2h0OiA2MDA7DQoJCQlwYWRkaW5nOiAwIDJweCAhaW1wb3J0YW50Ow0KCQl9DQoNCgkJLnRleHQtYm9sZCB7DQoJCQljb2xvcjogIzAwMDAwMDsNCgkJCWZvbnQtZmFtaWx5OiAnQXZlbmlyTmV4dCcsICdBdmVuaXInLCAnSGVsdmV0aWNhIE5ldWUnLCAnSGVsdmV0aWNhJywgJ0FyaWFsJywgJ3NhbnMtc2VyaWYnOw0KCQkJZm9udC1zaXplOiAyNHB4Ow0KCQkJbGluZS1oZWlnaHQ6IDMycHg7DQoJCQl0ZXh0LWFsaWduOiBsZWZ0Ow0KCQkJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJCX0NCg0KCQkudGV4dC1mb290ZXIgew0KCQkJY29sb3I6ICM5OTk5OTk7DQoJCQlmb250LWZhbWlseTogJ0F2ZW5pck5leHQnLCAnQXZlbmlyJywgJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsICdzYW5zLXNlcmlmJzsNCgkJCWZvbnQtc2l6ZTogMTJweDsNCgkJCWxpbmUtaGVpZ2h0OiAxNnB4Ow0KCQkJdGV4dC1hbGlnbjogY2VudGVyOw0KCQkJZm9udC13ZWlnaHQ6IDQwMDsNCgkJfQ0KDQoJCXAudGV4dCwgcC50ZXh0LXNlbWlib2xkLCBwLnRleHQtYm9sZCB7DQoJCSAgICBwYWRkaW5nOiAwIDJweCAhaW1wb3J0YW50Ow0KCQl9DQoNCgkJLmJ0biB7DQoJCQlmb250LWZhbWlseTogJ0F2ZW5pck5leHQnLCAnQXZlbmlyJywgJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsICdzYW5zLXNlcmlmJzsNCgkJCS13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOw0KCQkJZGlzcGxheTogYmxvY2s7DQoJCQl0ZXh0LWRlY29yYXRpb246IG5vbmU7DQoJCQliYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOw0KCQkJY29sb3I6IHdoaXRlOw0KCQkJdGV4dC1hbGlnbjogY2VudGVyOw0KCQkJZm9udC13ZWlnaHQ6IDcwMDsNCgkJCWhlaWdodDogNjRweDsNCgkJCW1pbi13aWR0aDogMjUwcHg7DQoJCQlsaW5lLWhlaWdodDogNjRweDsNCgkJCWZvbnQtc2l6ZTogMjhweDsNCgkJCWJvcmRlci1yYWRpdXM6IDUwcHg7DQoJCQlwYWRkaW5nOiAwIDMwcHg7DQoJCX0NCg0KICAgICAgICAuaDEgew0KCQkJY29sb3I6ICMwMDAwMDA7DQoJCSAgICBmb250LWZhbWlseTogJ0F2ZW5pck5leHQnLCAnQXZlbmlyJywgJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsICdzYW5zLXNlcmlmJzsNCgkJCWZvbnQtc2l6ZTogNDhweDsNCgkJCWxpbmUtaGVpZ2h0OiA0OHB4Ow0KCQkJdGV4dC1hbGlnbjogbGVmdDsNCgkJCWZvbnQtd2VpZ2h0OiBib2xkOw0KCQkJcGFkZGluZy1ib3R0b206IDE2cHggIWltcG9ydGFudDsNCgkJCXBhZGRpbmctbGVmdDogMnB4ICFpbXBvcnRhbnQ7DQoJCX0NCg0KCQkuaDIgew0KCQkJY29sb3I6ICMwMDAwMDA7DQoJCQlmb250LWZhbWlseTogJ0F2ZW5pck5leHQnLCAnQXZlbmlyJywgJ0hlbHZldGljYSBOZXVlJywgJ0hlbHZldGljYScsICdBcmlhbCcsICdzYW5zLXNlcmlmJzsNCgkJCWZvbnQtc2l6ZTogMjBweDsNCgkJCWxpbmUtaGVpZ2h0OiAyNnB4Ow0KCQkJdGV4dC1hbGlnbjogbGVmdDsNCgkJCWZvbnQtd2VpZ2h0OiBib2xkOw0KCQkJcGFkZGluZy1sZWZ0OiAycHggIWltcG9ydGFudDsNCg0KCQl9DQoNCgkJLmZvcm1hdC1hcy1jb250ZW50IHsNCg0KCQl9DQoNCgkJLmZvcm1hdC1hcy1jb250ZW50IGltZyB7DQoJCQltYXgtd2lkdGg6IDEwMCU7DQoJCQloZWlnaHQ6IGF1dG87DQoJCX0NCg0KCQkuY29sdW1uLWVtcHR5IHsNCgkJCWZvbnQtc2l6ZTogMHB0Ow0KCQkJbGluZS1oZWlnaHQ6IDBwdDsNCgkJCXBhZGRpbmc6IDA7DQoJCQltYXJnaW46IDA7DQoJCQlmb250LXdlaWdodDogNDAwOw0KCQkJTWFyZ2luOiAwOw0KCQl9DQoNCgkJLmFwcGxldC1jb2x1bW4gew0KCQkJZm9udC1zaXplOiAwcHQ7DQoJCQlsaW5lLWhlaWdodDogMHB0Ow0KCQkJcGFkZGluZzogMDsNCgkJCW1hcmdpbjogMDsNCgkJCWZvbnQtd2VpZ2h0OiA0MDA7DQoJCQl2ZXJ0aWNhbC1hbGlnbjogdG9wOw0KCQkJTWFyZ2luOiAwOw0KCQl9DQoNCgkJLnJlc3BvbnNpdmUtaW1hZ2Ugew0KCQkJZm9udC1zaXplOiAwcHQ7DQoJCQlsaW5lLWhlaWdodDogMHB0Ow0KCQkJdGV4dC1hbGlnbjogbGVmdDsNCgkJfQ0KDQoJCS5saW5rIHsNCgkJCWNvbG9yOiAjMDAwMDAwOw0KCQkJdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7DQoJCX0NCg0KCQkvKnRhYmxlLmhlcm8gdGQuaGVyby1jb250YWluZXIgeyBwYWRkaW5nLWJvdHRvbTogMjBweDsgfSovDQoJCXRhYmxlLmhlcm8gdGQuYXBwbGV0IHsNCgkJCXBhZGRpbmctYm90dG9tOiAxOHB4Ow0KICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAxNnB4Ow0KICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMTZweDsNCgkJfQ0KDQoJCXRhYmxlLmhlcm8ucmlnaHQgdGQuYXBwbGV0LmltYWdlIHsNCgkJCXRleHQtYWxpZ246IHJpZ2h0Ow0KCQl9DQoNCgkJdGFibGUuaGVybyBoMSwNCgkJdGFibGUuaGVybyB0ZC5hcHBsZXQgaDEgew0KCQkJZm9udC1mYW1pbHk6ICdBdmVuaXJOZXh0JywgJ0F2ZW5pcicsICdIZWx2ZXRpY2EgTmV1ZScsICdIZWx2ZXRpY2EnLCAnQXJpYWwnLCAnc2Fucy1zZXJpZic7DQoJCQlmb250LXNpemU6IDI0cHg7DQoJCQl0ZXh0LWFsaWduOiBjZW50ZXI7DQoJCQljb2xvcjogd2hpdGU7DQoJCQlwYWRkaW5nLXRvcDogMHB4Ow0KCQkJcGFkZGluZy1ib3R0b206IDI0cHg7DQoJCQlwYWRkaW5nLWxlZnQ6IDBweDsNCgkJCXBhZGRpbmctcmlnaHQ6IDBweDsNCgkJCXRleHQtZGVjb3JhdGlvbjogbm9uZTsNCgkJCW1hcmdpbjogMDsNCgkJfQ0KDQoJCXRhYmxlLnJpZ2h0IGRpdi5idXR0b24gew0KCQkJdGV4dC1hbGlnbjogcmlnaHQ7DQoJCX0NCg0KCQl0YWJsZS5oZXJvIGltZy5sb2dvIHsNCgkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsNCgkJCW1hcmdpbjogMzBweCBhdXRvIDI1cHggYXV0bzsNCgkJfQ0KDQoJCXRhYmxlLmhlcm8gYS5idXR0b24gew0KCQkJYm9yZGVyLXJhZGl1czogMTZweDsNCgkJCWNvbG9yOiAjZmZmZmZmOw0KCQkJZGlzcGxheTogaW5saW5lLWJsb2NrOw0KCQkJZm9udC1mYW1pbHk6ICdBdmVuaXJOZXh0JywgJ0F2ZW5pcicsICdIZWx2ZXRpY2EgTmV1ZScsICdIZWx2ZXRpY2EnLCAnQXJpYWwnLCAnc2Fucy1zZXJpZic7DQoJCQlmb250LXNpemU6IDEycHg7DQoJCQlmb250LXdlaWdodDogYm9sZDsNCgkJCXRleHQtYWxpZ246IGNlbnRlcjsNCgkJCXRleHQtZGVjb3JhdGlvbjogbm9uZTsNCgkJCXdpZHRoOiAxMDAlOw0KCQkJLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiBub25lOw0KCQl9DQoNCgkJdGFibGUuaGVyby50d28tY29sIGEuYnV0dG9uIHsNCgkJCWJvcmRlci1yYWRpdXM6IDE2cHg7DQoJCQljb2xvcjogI2ZmZmZmZjsNCgkJCWRpc3BsYXk6IGlubGluZS1ibG9jazsNCgkJCWZvbnQtZmFtaWx5OiAnQXZlbmlyTmV4dCcsICdBdmVuaXInLCAnSGVsdmV0aWNhIE5ldWUnLCAnSGVsdmV0aWNhJywgJ0FyaWFsJywgJ3NhbnMtc2VyaWYnOw0KCQkJZm9udC1zaXplOiAxMnB4Ow0KCQkJZm9udC13ZWlnaHQ6IGJvbGQ7DQoJCQl0ZXh0LWFsaWduOiBjZW50ZXI7DQoJCQl0ZXh0LWRlY29yYXRpb246IG5vbmU7DQoJCQl3aWR0aDogMjkwcHg7DQoJCQktd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6IG5vbmU7DQoJCX0NCg0KCQl0YWJsZS5oZXJvLnR3by1jb2wgaW1nLmJhbm5lciB7DQoJCQl3aWR0aDogMTAwJTsNCgkJfQ0KDQoJCXRhYmxlLmZvb3Rlcl9saW5rcyB0ZCB7DQoJCQlmb250LXNpemU6IDE4cHggIWltcG9ydGFudDsNCgkJfQ0KCTwvc3R5bGU-DQoNCgk8c3R5bGUgdHlwZT0idGV4dC9jc3MiIG1lZGlhPSJzY3JlZW4iPg0KCQkvKiBMaW5rZWQgU3R5bGVzICovDQoJCWJvZHkgew0KCQkJcGFkZGluZzogMCAhaW1wb3J0YW50Ow0KCQkJbWFyZ2luOiAwICFpbXBvcnRhbnQ7DQoJCQlkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50Ow0KCQkJbWluLXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7DQoJCQl3aWR0aDogMTAwJSAhaW1wb3J0YW50Ow0KCQkJYmFja2dyb3VuZDogI2ZmZmZmZjsNCgkJCS13ZWJraXQtdGV4dC1zaXplLWFkanVzdDogbm9uZQ0KCQl9DQoNCgkJYSB7DQoJCQljb2xvcjogIzAwMDAwMDsNCgkJCXRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOw0KCQl9DQoNCgkJYTphY3RpdmUgew0KCQkJb3BhY2l0eTogLjggIWltcG9ydGFudDsNCgkJfQ0KDQoJCXAgew0KCQkJcGFkZGluZzogMCAhaW1wb3J0YW50Ow0KCQkJbWFyZ2luOiAwICFpbXBvcnRhbnQNCgkJfQ0KDQoJCS8qIEFwcGxlIE1haWwgc3R5bGVzICovDQoJCS5TaW5nbGV0b24gcCwgLlNpbmdsZXRvbiAucCB7DQoJCQltYXJnaW46IDAgNnB4IDAgMTJweCAhaW1wb3J0YW50Ow0KCQl9DQoNCgkJQHN1cHBvcnRzICgtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaCkgYW5kIChjb2xvcjojZmZmZikgew0KICAgIAlwLCAucCB7DQogICAgICAJbWFyZ2luOiAwIDZweCAwIDEycHggIWltcG9ydGFudDsNCiAgICAgIH0NCiAgICB9DQoNCgkJaW1nIHsNCgkJCS1tcy1pbnRlcnBvbGF0aW9uLW1vZGU6IGJpY3ViaWM7DQoJCQkvKiBBbGxvdyBzbW9vdGhlciByZW5kZXJpbmcgb2YgcmVzaXplZCBpbWFnZSBpbiBJbnRlcm5ldCBFeHBsb3JlciAqLw0KCQl9DQoNCgkJLm1jblByZXZpZXdUZXh0IHsNCgkJCWRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsNCgkJfQ0KDQoNCgkJLyogTW9iaWxlIHN0eWxlcyAqLw0KCQlAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtZGV2aWNlLXdpZHRoOiA0ODBweCksDQoJCW9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA0ODBweCkgew0KCQkJLm1vYmlsZS1zaGVsbCB7DQoJCQkJd2lkdGg6IDEwMCUgIWltcG9ydGFudDsNCgkJCQltaW4td2lkdGg6IDEwMCUgIWltcG9ydGFudDsNCgkJCX0NCg0KCQkJLyogRml4IEdtYWlsIGlPUyByaWdodCBtYXJnaW4gaXNzdWUgKi8NCgkJCXUrLmJvZHkgLm1vYmlsZS1zaGVsbCB7DQoJCQkJd2lkdGg6IDEwMCUgIWltcG9ydGFudDsNCgkJCQl3aWR0aDogMTAwdncgIWltcG9ydGFudDsNCgkJCX0NCg0KCQkJLm0tY2VudGVyIHsNCgkJCQl0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDsNCgkJCX0NCg0KCQkJLmNlbnRlciB7DQoJCQkJbWFyZ2luOiAwIGF1dG8gIWltcG9ydGFudDsNCgkJCX0NCg0KCQkJLnRkIHsNCgkJCQl3aWR0aDogMTAwJSAhaW1wb3J0YW50Ow0KCQkJCW1pbi13aWR0aDogMTAwJSAhaW1wb3J0YW50Ow0KCQkJfQ0KDQoJCQkubS1ici0xNSB7DQoJCQkJaGVpZ2h0OiAxNXB4ICFpbXBvcnRhbnQ7DQoJCQl9DQoNCgkJCS5tLXRkLA0KCQkJLm1vYmlsZS1oaWRlIHsNCgkJCQlkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7DQoJCQkJd2lkdGg6IDAgIWltcG9ydGFudDsNCgkJCQloZWlnaHQ6IDAgIWltcG9ydGFudDsNCgkJCQlmb250LXNpemU6IDAgIWltcG9ydGFudDsNCgkJCQlsaW5lLWhlaWdodDogMCAhaW1wb3J0YW50Ow0KCQkJCW1pbi1oZWlnaHQ6IDAgIWltcG9ydGFudDsNCgkJCX0NCg0KCQkJLm0tYmxvY2sgew0KCQkJCWRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7DQoJCQl9DQoNCgkJCS5yZXNwb25zaXZlLWltYWdlIGltZyB7DQoJCQkJd2lkdGg6IDEwMCUgIWltcG9ydGFudDsNCgkJCQltYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDsNCgkJCQloZWlnaHQ6IGF1dG8gIWltcG9ydGFudDsNCgkJCX0NCg0KCQkJLmNvbHVtbiB7DQoJCQkJZmxvYXQ6IGxlZnQgIWltcG9ydGFudDsNCgkJCQl3aWR0aDogMTAwJSAhaW1wb3J0YW50Ow0KCQkJCWRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7DQoJCQl9DQoNCgkJCS5wMC0xNSB7DQoJCQkJcGFkZGluZy1sZWZ0OiAxNXB4ICFpbXBvcnRhbnQ7DQoJCQkJcGFkZGluZy1yaWdodDogMTVweCAhaW1wb3J0YW50Ow0KCQkJfQ0KDQoJCQkucDMwLTE1LTQwIHsNCgkJCQlwYWRkaW5nOiAwIDAgNDBweCAhaW1wb3J0YW50Ow0KCQkJfQ0KDQoJCQkuYXBwbGV0LWNvbHVtbiwNCgkJCS5jb2x1bW4tZW1wdHkgew0KCQkJCWZsb2F0OiBsZWZ0ICFpbXBvcnRhbnQ7DQoJCQkJd2lkdGg6IDEwMCUgIWltcG9ydGFudDsNCgkJCQlkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50Ow0KCQkJfQ0KDQoJCQkuY29sdW1uLWVtcHR5IHsNCgkJCQlwYWRkaW5nLWJvdHRvbTogMzBweCAhaW1wb3J0YW50Ow0KCQkJfQ0KDQoJCQkubW9iaWxlLWhpZGUgew0KCQkJCWRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsNCgkJCQl3aWR0aDogMCAhaW1wb3J0YW50Ow0KCQkJCWhlaWdodDogMCAhaW1wb3J0YW50Ow0KCQkJCWZvbnQtc2l6ZTogMCAhaW1wb3J0YW50Ow0KCQkJCWxpbmUtaGVpZ2h0OiAwICFpbXBvcnRhbnQ7DQoJCQkJbWluLWhlaWdodDogMCAhaW1wb3J0YW50Ow0KCQkJfQ0KDQoJCQl0YWJsZS5oZXJvLnR3by1jb2wgdGQuYXBwbGV0LmltYWdlIHsNCgkJCQl0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDsNCgkJCX0NCg0KCQkJdGFibGUuaGVyby50d28tY29sIGltZy5iYW5uZXIgew0KCQkJCW1heC13aWR0aDogMTAwJTsNCgkJCX0NCg0KCQkJdGFibGUuaGVyby50d28tY29sLmxlZnQgdGQuaGVyby1jb250YWluZXIgew0KCQkJCXBhZGRpbmctcmlnaHQ6IDA7DQoJCQl9DQoNCgkJCXRhYmxlLmhlcm8udHdvLWNvbC5yaWdodCB0ZC5oZXJvLWNvbnRhaW5lciB7DQoJCQkJcGFkZGluZy1sZWZ0OiAwOw0KCQkJfQ0KDQoJCQl0YWJsZS5oZXJvLnR3by1jb2wgew0KCQkJCXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7DQoJCQkJbWluLXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7DQoJCQkJdGV4dC1hbGlnbjogY2VudGVyOw0KCQkJfQ0KDQoJCQl0YWJsZS5oZXJvIHRkLmhlcm8tY29udGFpbmVyIHsNCgkJCQlwYWRkaW5nLWJvdHRvbTogMTVweDsNCgkJCX0NCg0KCQkJdGFibGUuaGVybyBkaXYuYnV0dG9uIGEgew0KCQkJCXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7DQoJCQl9DQoJCX0NCgk8L3N0eWxlPg0KPC9oZWFkPg0KDQo8Ym9keSBjbGFzcz0iYm9keSIgc3R5bGU9ImRpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7IG1pbi13aWR0aDogMTAwJSAhaW1wb3J0YW50OyB3aWR0aDogMTAwJSAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyAtd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6IG5vbmU7IG1hcmdpbjogMDsgcGFkZGluZzogMDsiIGJnY29sb3I9IiNmZmZmZmYiPjxkaXYgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IG1heC1oZWlnaHQ6IDBweDsgb3ZlcmZsb3c6IGhpZGRlbjsgbXNvLWhpZGU6YWxsOyI-TmV3IGd1aWRlcywgbmV3IEFwcGxldHMsIG5ldyBzZXJ2aWNlcywgYW5kIG1vcmUuIEl0JiMzOTtzIGFsbCBoZXJlLjwvZGl2PjxkaXYgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IG1heC1oZWlnaHQ6IDBweDsgb3ZlcmZsb3c6IGhpZGRlbjsgbXNvLWhpZGU6YWxsOyI-wqDigIzCoOKAjMKg4oCMwqA8L2Rpdj4NCgk8dGFibGUgd2lkdGg9IjEwMCUiIGJvcmRlcj0iMCIgY2VsbHNwYWNpbmc9IjAiIGNlbGxwYWRkaW5nPSIwIiBiZ2NvbG9yPSIjZmZmZmZmIj4NCgkJPHRib2R5Pjx0cj4NCgkJCTx0ZCBhbGlnbj0ibGVmdCIgdmFsaWduPSJ0b3AiIHN0eWxlPSJtYXgtd2lkdGg6IDY0MHB4OyI-DQoJCQkJPHRhYmxlIGJvcmRlcj0iMCIgY2VsbHNwYWNpbmc9IjAiIGNlbGxwYWRkaW5nPSIwIiBjbGFzcz0ibW9iaWxlLXNoZWxsIj4NCgkJCQkJPHRib2R5Pjx0cj4NCgkJCQkJCTx0ZCBjbGFzcz0idGQiIHN0eWxlPSJ3aWR0aDogMTAwJTsgbWluLXdpZHRoOiAxMDAlOyBmb250LXNpemU6IDBwdDsgbGluZS1oZWlnaHQ6IDBwdDsgZm9udC13ZWlnaHQ6IDQwMDsgbWF4LXdpZHRoOiA2NDBweDsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyI-DQoJCQkJCQkJPCEtLSBNYWluIC0tPg0KCQkJCQkJCTx0YWJsZSB3aWR0aD0iMTAwJSIgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBhZGRpbmc9IjAiPg0KCQkJCQkJCQk8dGJvZHk-PHRyPg0KCQkJCQkJCQkJPHRkIGNsYXNzPSJwMzAtMTUtNDAiIHN0eWxlPSJib3JkZXItYm90dG9tLXdpZHRoOiAzcHg7IGJvcmRlci1ib3R0b20tY29sb3I6ICNmNWY1ZjU7IGJvcmRlci1ib3R0b20tc3R5bGU6IHNvbGlkOyBtYXgtd2lkdGg6IDY0MHB4OyBwYWRkaW5nOiAyMHB4IDAgMTEycHg7Ij4NCgkJCQkJCQkJCQk8dGFibGUgd2lkdGg9IjEwMCUiIGJvcmRlcj0iMCIgY2VsbHNwYWNpbmc9IjAiIGNlbGxwYWRkaW5nPSIwIj4NCgkJCQkJCQkJCQkJPHRib2R5Pjx0cj4NCgkJCQkJCQkJCQkJCTwvdHI-PC90Ym9keT48L3RhYmxlPjx0YWJsZSB3aWR0aD0iMTAwJSIgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBhZGRpbmc9IjAiPg0KCQkJCQkJCQkJCQkJCTx0Ym9keT48dHI-DQoJCQkJCQkJCQkJCQkJCTx0ZCBjbGFzcz0idGV4dCBmb3JtYXQtYXMtY29udGVudCIgc3R5bGU9Im1heC13aWR0aDogNjQwcHg7IGNvbG9yOiAjMDAwMDAwOyBmb250LWZhbWlseTogJiMzOTtBdmVuaXJOZXh0JiMzOTssICYjMzk7QXZlbmlyJiMzOTssICYjMzk7SGVsdmV0aWNhIE5ldWUmIzM5OywgJiMzOTtIZWx2ZXRpY2EmIzM5OywgJiMzOTtBcmlhbCYjMzk7LCAmIzM5O3NhbnMtc2VyaWYmIzM5OzsgZm9udC1zaXplOiAyNHB4OyBsaW5lLWhlaWdodDogMzJweDsgdGV4dC1hbGlnbjogbGVmdDsgZm9udC13ZWlnaHQ6IDQwMDsiIGFsaWduPSJsZWZ0Ij4NCgkJDQo8cCBzdHlsZT0id29yZC13cmFwOiBicmVhay13b3JkOyBjb2xvcjogIzAwMDAwMDsgZm9udC1mYW1pbHk6ICYjMzk7QXZlbmlyTmV4dCYjMzk7LCAmIzM5O0F2ZW5pciYjMzk7LCAmIzM5O0hlbHZldGljYSBOZXVlJiMzOTssICYjMzk7SGVsdmV0aWNhJiMzOTssICYjMzk7QXJpYWwmIzM5OywgJiMzOTtzYW5zLXNlcmlmJiMzOTs7IGZvbnQtc2l6ZTogNDhweDsgbGluZS1oZWlnaHQ6IDQ4cHg7IHRleHQtYWxpZ246IGxlZnQ7IGZvbnQtd2VpZ2h0OiBib2xkOyBtYXJnaW46IDA7IHBhZGRpbmc6IDAgMCAxNnB4IDJweDsiIGNsYXNzPSJoMSIgYWxpZ249ImxlZnQiPg0KPC9wPg0KDQo8dGFibGUgYWxpZ249ImNlbnRlciIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iNCIgY2VsbHNwYWNpbmc9IjAiPg0KPHRib2R5Pg0KPHRyPg0KPHRkIHN0eWxlPSJtYXgtd2lkdGg6IDY0MHB4OyI-DQo8L3RkPg0KPC90cj4NCjwvdGJvZHk-DQo8L3RhYmxlPg0KDQo8dGFibGUgYWxpZ249ImNlbnRlciIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPg0KPHRib2R5Pg0KPHRyPg0KPHRkIHN0eWxlPSJtYXgtd2lkdGg6IDY0MHB4OyI-DQogICAgPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vbGluay5pZnR0dC5jb20vZS9jL2V5SmxiV0ZwYkY5cFpDSTZJbEpMUnkxQmQwMUJRVmd3ZFhaNlZWOTBUVnBYY2xCbFltdElOVUpNVVQwOUlpd2lhSEpsWmlJNkltaDBkSEJ6T2k4dmFXWjBkSFF1WTI5dEwyVjRjR3h2Y21VdloybG1kSFIwTFdkMWFXUmxMVEl3TWpFaUxDSnBiblJsY201aGJDSTZJbUV4WW1Vd00yRTNNRGhpWXpOaE9HUmxaamxoTUdZaUxDSnNhVzVyWDJsa0lqbzBNVEl4T1Rrek16SjkvNDQ2ZWNhODExZmIzOGNhMzIwYzY5YjJmYzkzZDE2MzY4NjdhNTBhOTVkYWI4OWFhNGZlMjgyYTFlZjc3YzUwMSIgc3R5bGU9ImNvbG9yOiAjMDAwMDAwOyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsiPg0KICA8aW1nIGFsdD0iMjAyMSBHaWZ0IGd1aWRlcywgZmluZCBkZXZpY2VzIGZvciBldmVyeW9uZSBvbiB5b3VyIGxpc3QiIHNyYz0iaHR0cHM6Ly91c2VyaW1nLmN1c3RvbWVyaW9tYWlsLmNvbS9wQWRWYktWalFJQzNwM1NhOUF2bV9HSUZUVFQtR3VpZGUucG5nIiB0aXRsZT0iIGh0dHBzOi8vdXNlcmltZy5jdXN0b21lcmlvbWFpbC5jb20vQkU5Z1JPTmtRNWVweGtRZVB6VHJfR0lGVFRULUd1aWRlLXYyLnBuZyIgc3R5bGU9Im1heC13aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvOyAtbXMtaW50ZXJwb2xhdGlvbi1tb2RlOiBiaWN1YmljOyIvPg0KPC9hPg0KPC90ZD4NCjwvdHI-DQo8L3Rib2R5Pg0KPC90YWJsZT4NCg0KPHRhYmxlIGFsaWduPSJjZW50ZXIiIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjQiIGNlbGxzcGFjaW5nPSIwIj4NCjx0Ym9keT4NCjx0cj4NCjx0ZCBzdHlsZT0ibWF4LXdpZHRoOiA2NDBweDsiPg0KPC90ZD4NCjwvdHI-DQo8L3Rib2R5Pg0KPC90YWJsZT4NCg0KPHRhYmxlIGFsaWduPSJjZW50ZXIiIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIj4NCjx0Ym9keT4NCjx0cj4NCjx0ZCBzdHlsZT0ibWF4LXdpZHRoOiA2NDBweDsiPg0KPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vbGluay5pZnR0dC5jb20vZS9jL2V5SmxiV0ZwYkY5cFpDSTZJbEpMUnkxQmQwMUJRVmd3ZFhaNlZWOTBUVnBYY2xCbFltdElOVUpNVVQwOUlpd2lhSEpsWmlJNkltaDBkSEJ6T2k4dmFXWjBkSFF1WTI5dEwyVjRjR3h2Y21VdmMyMWhjbWh2YldVdFptOXlMWFJvWlMxb2IyeHBaR0Y1Y3lJc0ltbHVkR1Z5Ym1Gc0lqb2lZVEZpWlRBellUY3dPR0pqTTJFNFpHVm1PV0V3WmlJc0lteHBibXRmYVdRaU9qUXhNakU1T1RNek0zMC85ZDcyZDRkNmIyMjM4MzljOWE1NDVlZmYwOWM4NWJhZjgyZTNjODBkMGI5MDZiNzBhZjAwMjNhYmZhYzIwODU3IiBzdHlsZT0iY29sb3I6ICMwMDAwMDA7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyI-DQogIDxpbWcgYWx0PSJDaGVjayBvdXQgYWxsIG9mIG91ciBob2xpZGF5IGNvbGxlY3Rpb25zIGFuZCBBcHBsZXRzIiBzcmM9Imh0dHBzOi8vdXNlcmltZy5jdXN0b21lcmlvbWFpbC5jb20vWlZGWlhEYVROaXlGaUowSVpiNGNfaG9saWRheS1hdXRvbWF0aW9ucy5wbmciIHRpdGxlPSJDaGVjayBvdXQgYWxsIG9mIG91ciBob2xpZGF5IGNvbGxlY3Rpb25zIGFuZCBBcHBsZXRzIiBzdHlsZT0ibWF4LXdpZHRoOiAxMDAlOyBoZWlnaHQ6IGF1dG87IC1tcy1pbnRlcnBvbGF0aW9uLW1vZGU6IGJpY3ViaWM7Ii8-DQo8L2E-DQo8L3RkPg0KPC90cj4NCjwvdGJvZHk-DQo8L3RhYmxlPg0KDQo8dGFibGUgYWxpZ249ImNlbnRlciIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iNCIgY2VsbHNwYWNpbmc9IjAiPg0KPHRib2R5Pg0KPHRyPg0KPHRkIHN0eWxlPSJtYXgtd2lkdGg6IDY0MHB4OyI-DQo8L3RkPg0KPC90cj4NCjwvdGJvZHk-DQo8L3RhYmxlPg0KDQo8dGFibGUgYWxpZ249ImNlbnRlciIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPg0KPHRib2R5Pg0KPHRyPg0KPHRkIHN0eWxlPSJtYXgtd2lkdGg6IDY0MHB4OyI-DQo8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly9saW5rLmlmdHR0LmNvbS9lL2MvZXlKbGJXRnBiRjlwWkNJNklsSkxSeTFCZDAxQlFWZ3dkWFo2VlY5MFRWcFhjbEJsWW10SU5VSk1VVDA5SWl3aWFISmxaaUk2SW1oMGRIQnpPaTh2YVdaMGRIUXVZMjl0TDJWNGNHeHZjbVV2Ym1WM0xXOXVMVWxHVkZSVUxXMXZiblJvYkhraUxDSnBiblJsY201aGJDSTZJbUV4WW1Vd00yRTNNRGhpWXpOaE9HUmxaamxoTUdZaUxDSnNhVzVyWDJsa0lqbzBNVEl4T1RnM016SjkvMDYxNjdhYjgwYzAwNDVjZDFlODNjNmUyYWM5Yjg5ZDYyZjgwMGU1NTRiOGRkNDgyNTY0NWFhNGUzMzMxOTI0NiIgc3R5bGU9ImNvbG9yOiAjMDAwMDAwOyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsiPg0KICA8aW1nIGFsdD0iTmV3IG9uIElGVFRUIHRoaXMgbW9udGg6IE1pY3Jvc29mdCBUbyBEbyBhbmQgbW9yZSIgc3JjPSJodHRwczovL3VzZXJpbWcuY3VzdG9tZXJpb21haWwuY29tL29XRVM0Q3VkUVlxaEVLMVk4STR2X05ldy1zZXJ2aWNlcy12Mi5wbmciIHRpdGxlPSJOZXcgb24gSUZUVFQgdGhpcyBtb250aDogTWljcm9zb2Z0IFRvIERvIGFuZCBtb3JlcyIgc3R5bGU9Im1heC13aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvOyAtbXMtaW50ZXJwb2xhdGlvbi1tb2RlOiBiaWN1YmljOyIvPg0KPC9hPg0KPC90ZD4NCjwvdHI-DQo8L3Rib2R5Pg0KPC90YWJsZT4NCg0KPHRhYmxlIGFsaWduPSJjZW50ZXIiIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjQiIGNlbGxzcGFjaW5nPSIwIj4NCjx0Ym9keT4NCjx0cj4NCjx0ZCBzdHlsZT0ibWF4LXdpZHRoOiA2NDBweDsiPg0KPC90ZD4NCjwvdHI-DQo8L3Rib2R5Pg0KPC90YWJsZT4NCg0KPHRhYmxlIGFsaWduPSJjZW50ZXIiIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIj4NCjx0Ym9keT4NCjx0cj4NCjx0ZCBzdHlsZT0ibWF4LXdpZHRoOiA2NDBweDsiPg0KPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9Imh0dHBzOi8vbGluay5pZnR0dC5jb20vZS9jL2V5SmxiV0ZwYkY5cFpDSTZJbEpMUnkxQmQwMUJRVmd3ZFhaNlZWOTBUVnBYY2xCbFltdElOVUpNVVQwOUlpd2lhSEpsWmlJNkltaDBkSEJ6T2k4dmFXWjBkSFF1WTI5dEwyVjRjR3h2Y21VdmJtVjNMV0Z3Y0d4bGRITWlMQ0pwYm5SbGNtNWhiQ0k2SW1FeFltVXdNMkUzTURoaVl6TmhPR1JsWmpsaE1HWWlMQ0pzYVc1clgybGtJam8wTVRJeE9UZzNOamw5LzI3MjZkYjZmMmIxZGY4ZWQ2YWY5YzEzYzU2MWYwODUzNDlhYmJiYjRjYTRkYzQzMDlhOTIwMDhkYzc4MjQwZGUiIHN0eWxlPSJjb2xvcjogIzAwMDAwMDsgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Ij4NCiAgPGltZyBhbHQ9Im5ldyBhbmQgdHJlbmRpbmcgQXBwbGV0cyBvZiB0aGUgd2VlayIgc3JjPSJodHRwczovL3VzZXJpbWcuY3VzdG9tZXJpb21haWwuY29tLzZJWThmSnBIUzhHZFc1UnNGeWNCX05ldy1UcmVuZGluZy1BcHBsZXRzLm5vdi5wbmciIHRpdGxlPSJuZXcgYW5kIHRyZW5kaW5nIEFwcGxldHMgb2YgdGhlIHdlZWsiIHN0eWxlPSJtYXgtd2lkdGg6IDEwMCU7IGhlaWdodDogYXV0bzsgLW1zLWludGVycG9sYXRpb24tbW9kZTogYmljdWJpYzsiLz4NCjwvYT4NCjwvdGQ-DQo8L3RyPg0KPC90Ym9keT4NCjwvdGFibGU-DQoNCjx0YWJsZSBhbGlnbj0iY2VudGVyIiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSI0IiBjZWxsc3BhY2luZz0iMCI-DQo8dGJvZHk-DQo8dHI-DQo8dGQgc3R5bGU9Im1heC13aWR0aDogNjQwcHg7Ij4NCjwvdGQ-DQo8L3RyPg0KPC90Ym9keT4NCjwvdGFibGU-DQoNCjx0YWJsZSBhbGlnbj0iY2VudGVyIiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCI-DQo8dGJvZHk-DQo8dHI-DQo8dGQgc3R5bGU9Im1heC13aWR0aDogNjQwcHg7Ij4NCjxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL2xpbmsuaWZ0dHQuY29tL2UvYy9leUpsYldGcGJGOXBaQ0k2SWxKTFJ5MUJkMDFCUVZnd2RYWjZWVjkwVFZwWGNsQmxZbXRJTlVKTVVUMDlJaXdpYUhKbFppSTZJbWgwZEhCek9pOHZhV1owZEhRdVkyOXRMMlY0Y0d4dmNtVXZibVYzTFhSeWFXZG5aWEp6TFdGamRHbHZibk10Y1hWbGNtbGxjeTF1YjNabGJXSmxjaTB5TURJeElpd2lhVzUwWlhKdVlXd2lPaUpoTVdKbE1ETmhOekE0WW1NellUaGtaV1k1WVRCbUlpd2liR2x1YTE5cFpDSTZOREV5TVRrNU16TTBmUS83ZDE0ODhiNmZhZGFmYWNjMzRmNGJhMThjN2IxZDllODhhZDk3OThjMDM1MjVmYjY4MGJiZGQxYjRlZjA3Nzg4IiBzdHlsZT0iY29sb3I6ICMwMDAwMDA7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyI-DQogIDxpbWcgYWx0PSJOZXcgdHJpZ2dlcnMsIHF1ZXJpZXMsIGFuZCBhY3Rpb25zIGZyb20gdGhpcyBtb250aCIgc3JjPSJodHRwczovL3VzZXJpbWcuY3VzdG9tZXJpb21haWwuY29tL05Na05WNW4wUXEyWkszdndtVUtpX1RRQS12Mi5wbmciIHRpdGxlPSJOZXcgdHJpZ2dlcnMsIHF1ZXJpZXMsIGFuZCBhY3Rpb25zIGZyb20gdGhpcyBtb250aCIgc3R5bGU9Im1heC13aWR0aDogMTAwJTsgaGVpZ2h0OiBhdXRvOyAtbXMtaW50ZXJwb2xhdGlvbi1tb2RlOiBiaWN1YmljOyIvPg0KPC9hPg0KPC90ZD4NCjwvdHI-DQo8L3Rib2R5Pg0KPC90YWJsZT4NCg0KPHRhYmxlIGFsaWduPSJjZW50ZXIiIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjQiIGNlbGxzcGFjaW5nPSIwIj4NCjx0Ym9keT4NCjx0cj4NCjx0ZCBzdHlsZT0ibWF4LXdpZHRoOiA2NDBweDsiPg0KPC90ZD4NCjwvdHI-DQo8L3Rib2R5Pg0KPC90YWJsZT4NCg0KCQkJCQkJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQkJCQkJCTwvdHI-DQoJCQkJCQkJCQkJCQk8L3Rib2R5PjwvdGFibGU-DQoJCQkJCQkJCQkJCTwvdGQ-PC90cj4NCgkJCQkJCQkJCQk8L3Rib2R5PjwvdGFibGU-DQoJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQk8L3RyPg0KCQkJCQkJCQk8dHI-DQoJCQkJCQkJCQk8dGQgc3R5bGU9Im1heC13aWR0aDogNjQwcHg7IHBhZGRpbmc6IDU2cHggMDsiPg0KCQkJCQkJCQkJCTx0YWJsZSB3aWR0aD0iMTAwJSIgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBhZGRpbmc9IjAiPg0KCQkJCQkJCQkJCQk8dGJvZHk-PHRyPg0KCQkJCQkJCQkJCQkJPHRkIGNsYXNzPSJpbWctY2VudGVyIGxvZ28iIHdpZHRoPSIxMjgiIHN0eWxlPSJwYWRkaW5nLWJvdHRvbTogNTZweDsgbWF4LXdpZHRoOiA2NDBweDsgZm9udC1zaXplOiAwcHQ7IGxpbmUtaGVpZ2h0OiAwcHQ7IHRleHQtYWxpZ246IGNlbnRlcjsiIGFsaWduPSJjZW50ZXIiPg0KCQkJCQkJCQkJCQkJCTwhLS0gTG9nbyAtLT4NCgkJCQkJCQkJCQkJCQk8YSBocmVmPSJodHRwczovL2xpbmsuaWZ0dHQuY29tL2UvYy9leUpsYldGcGJGOXBaQ0k2SWxKTFJ5MUJkMDFCUVZnd2RYWjZWVjkwVFZwWGNsQmxZbXRJTlVKTVVUMDlJaXdpYUhKbFppSTZJbWgwZEhCek9pOHZhV1owZEhRdVkyOXRMejkxZEcxZmJXVmthWFZ0UFVWdFlXbHNYSFV3TURJMmRYUnRYM052ZFhKalpUMURkWE4wYjIxbGNtbHZYSFV3TURJMmRYUnRYMk5oYlhCaGFXZHVQVlZ6WlhKZlZHVnRjR3hoZEdWY2RUQXdNaloxZEcxZmRHVnliVDFKUmxSVVZGOU1iMmR2WEhVd01ESTJkWFJ0WDJOdmJuUmxiblE5SWl3aWFXNTBaWEp1WVd3aU9pSmhNV0psTUROaE56QTRZbU16WVRoa1pXWTVZVEJtSWl3aWJHbHVhMTlwWkNJNk5ERXlNVGszTURFNWZRLzQzMThkNzk2MTk5NjY5NWNlYjQ1NDFiMjkwNTQwNGViM2E3MDM2ZmNmZDMyMTMyZDcxZDJlMzYyY2VmMjk2YWYiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6ICMwMDAwMDA7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyI-PGltZyBzcmM9Imh0dHBzOi8vdXNlcmltZy1iZWUuY3VzdG9tZXJpb21haWwuY29tL2ltYWdlcy9jbGllbnQtZW52LTU3MTIxL0lGVFRUJTIwTG9nby5wbmciIHdpZHRoPSIxMjgiIGJvcmRlcj0iMCIgYWx0PSJJRlRUVCIgdGl0bGU9IklGVFRUIiBzdHlsZT0iLW1zLWludGVycG9sYXRpb24tbW9kZTogYmljdWJpYzsiLz48L2E-DQoJCQkJCQkJCQkJCQkJPCEtLSBFTkQgTG9nbyAtLT4NCgkJCQkJCQkJCQkJCTwvdGQ-DQoJCQkJCQkJCQkJCTwvdHI-DQoJCQkJCQkJCQkJCTx0cj4NCgkJCQkJCQkJCQkJCTx0ZCBhbGlnbj0iY2VudGVyIiBzdHlsZT0icGFkZGluZy1ib3R0b206IDI4cHg7IG1heC13aWR0aDogNjQwcHg7Ij4NCgkJCQkJCQkJCQkJCQk8IS0tIEJ1dHRvbiAtLT4NCgkJCQkJCQkJCQkJCQk8dGFibGUgYm9yZGVyPSIwIiBjZWxsc3BhY2luZz0iMCIgY2VsbHBhZGRpbmc9IjAiPg0KCQkJCQkJCQkJCQkJCQk8dGJvZHk-PHRyPg0KCQkJCQkJCQkJCQkJCQkJPHRkIGNsYXNzPSJpbWciIHdpZHRoPSIxNDAiIHN0eWxlPSJtYXgtd2lkdGg6IDY0MHB4OyBmb250LXNpemU6IDBwdDsgbGluZS1oZWlnaHQ6IDBwdDsgdGV4dC1hbGlnbjogbGVmdDsiIGFsaWduPSJsZWZ0Ij48YSBocmVmPSJodHRwczovL2xpbmsuaWZ0dHQuY29tL2UvYy9leUpsYldGcGJGOXBaQ0k2SWxKTFJ5MUJkMDFCUVZnd2RYWjZWVjkwVFZwWGNsQmxZbXRJTlVKTVVUMDlJaXdpYUhKbFppSTZJbWgwZEhCek9pOHZhWFIxYm1WekxtRndjR3hsTG1OdmJTOWhjSEF2WVhCd2JHVXRjM1J2Y21VdmFXUTJOakE1TkRRMk16VV9jSFE5TVRjMU1qWTRNbHgxTURBeU5tTjBQVU4xYzNSdmJXVnlhVzh0UlcxaGFXd3RSbTl2ZEdWeWMxeDFNREF5Tm0xMFBUZ2lMQ0pwYm5SbGNtNWhiQ0k2SW1FeFltVXdNMkUzTURoaVl6TmhPR1JsWmpsaE1HWWlMQ0pzYVc1clgybGtJam8wTVRJeE9UWTNPRGw5Lzg2NjMwNDc1ZTNmODI4MjFiOGZkMjA4NzJhYmQzYzRhYzkzMDI2MGQyMTY1OWIwZjk2NjVmZjg3ZGE0Y2U0MmYiIHRhcmdldD0iX2JsYW5rIiBzdHlsZT0iY29sb3I6ICMwMDAwMDA7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyI-PGltZyBzcmM9Imh0dHBzOi8vdXNlcmltZy1iZWUuY3VzdG9tZXJpb21haWwuY29tL2ltYWdlcy9jbGllbnQtZW52LTU3MTIxL2FwcGxlX2FwcHN0b3JlX2Rvd25sb2FkQDF4LnBuZz8xIiB3aWR0aD0iMTQwIiBoZWlnaHQ9IjQyIiBib3JkZXI9IjAiIGFsdD0iRG93bmxvYWQgSUZUVFQgZm9yIGlPUyIgdGl0bGU9IkRvd25sb2FkIElGVFRUIGZvciBpT1MiIHN0eWxlPSItbXMtaW50ZXJwb2xhdGlvbi1tb2RlOiBiaWN1YmljOyIvPjwvYT48L3RkPg0KCQkJCQkJCQkJCQkJCQkJPHRkIGNsYXNzPSJpbWciIHdpZHRoPSIxMiIgc3R5bGU9Im1heC13aWR0aDogNjQwcHg7IGZvbnQtc2l6ZTogMHB0OyBsaW5lLWhlaWdodDogMHB0OyB0ZXh0LWFsaWduOiBsZWZ0OyIgYWxpZ249ImxlZnQiPjwvdGQ-DQoJCQkJCQkJCQkJCQkJCQk8dGQgY2xhc3M9ImltZyIgd2lkdGg9IjE0MCIgc3R5bGU9Im1heC13aWR0aDogNjQwcHg7IGZvbnQtc2l6ZTogMHB0OyBsaW5lLWhlaWdodDogMHB0OyB0ZXh0LWFsaWduOiBsZWZ0OyIgYWxpZ249ImxlZnQiPjxhIGhyZWY9Imh0dHBzOi8vbGluay5pZnR0dC5jb20vZS9jL2V5SmxiV0ZwYkY5cFpDSTZJbEpMUnkxQmQwMUJRVmd3ZFhaNlZWOTBUVnBYY2xCbFltdElOVUpNVVQwOUlpd2lhSEpsWmlJNkltaDBkSEJ6T2k4dmNHeGhlUzVuYjI5bmJHVXVZMjl0TDNOMGIzSmxMMkZ3Y0hNdlpHVjBZV2xzY3o5cFpEMWpiMjB1YVdaMGRIUXVhV1owZEhSY2RUQXdNalp5WldabGNuSmxjajExZEcxZmMyOTFjbU5sSlRORVEzVnpkRzl0WlhKcGJ5MUZiV0ZwYkMxR2IyOTBaWElpTENKcGJuUmxjbTVoYkNJNkltRXhZbVV3TTJFM01EaGlZek5oT0dSbFpqbGhNR1lpTENKc2FXNXJYMmxrSWpvME1USXhPVFkzT1RCOS9hY2IzZTJhZTBhMTBiZjRiZTY4YjM2ZWIwYzFjNjk1YWUwYTNkNGNjMmRkMDc5MzI5YzVmODIzYTUwOTQwNGFjIiB0YXJnZXQ9Il9ibGFuayIgc3R5bGU9ImNvbG9yOiAjMDAwMDAwOyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsiPjxpbWcgc3JjPSJodHRwczovL3VzZXJpbWctYmVlLmN1c3RvbWVyaW9tYWlsLmNvbS9pbWFnZXMvY2xpZW50LWVudi01NzEyMS9nb29nbGVfcGxheV9zdG9yZV9kb3dubG9hZEAxeC5wbmc_MSIgd2lkdGg9IjE0MCIgaGVpZ2h0PSI0MiIgYm9yZGVyPSIwIiBhbHQ9IkRvd25sb2FkIElGVFRUIGZvciBBbmRyb2lkIiB0aXRsZT0iRG93bmxvYWQgSUZUVFQgZm9yIEFuZHJvaWQiIHN0eWxlPSItbXMtaW50ZXJwb2xhdGlvbi1tb2RlOiBiaWN1YmljOyIvPjwvYT48L3RkPg0KCQkJCQkJCQkJCQkJCQk8L3RyPg0KCQkJCQkJCQkJCQkJCTwvdGJvZHk-PC90YWJsZT4NCgkJCQkJCQkJCQkJCQk8IS0tIEVORCBCdXR0b24gLS0-DQoJCQkJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQkJCQk8L3RyPg0KCQkJCQkJCQkJCQk8dHI-DQoJCQkJCQkJCQkJCQk8dGQgY2xhc3M9InRleHQtZm9vdGVyIHAwLTE1IiBzdHlsZT0ibWF4LXdpZHRoOiA2NDBweDsgY29sb3I6ICM5OTk5OTk7IGZvbnQtZmFtaWx5OiAmIzM5O0F2ZW5pck5leHQmIzM5OywgJiMzOTtBdmVuaXImIzM5OywgJiMzOTtIZWx2ZXRpY2EgTmV1ZSYjMzk7LCAmIzM5O0hlbHZldGljYSYjMzk7LCAmIzM5O0FyaWFsJiMzOTssICYjMzk7c2Fucy1zZXJpZiYjMzk7OyBmb250LXNpemU6IDEycHg7IGxpbmUtaGVpZ2h0OiAxNnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGZvbnQtd2VpZ2h0OiA0MDA7IiBhbGlnbj0iY2VudGVyIj4NCgkJCQkJCQkJCQkJCQlJRlRUVCDCtyBQ4oCLTyBCb3ggNTnigIswNTTigIs3IMK3IFNh4oCLbiBGcmFuY-KAi2lzY28sIENhbGlm4oCLb3JuaWEgwrcgOTQx4oCLNTkNCgkJCQkJCQkJCQkJCQk8YnIvPg0KCQkJCQkJCQkJCQkJCTxhIGhyZWY9Imh0dHBzOi8vbGluay5pZnR0dC5jb20vZS9jL2V5SmxiV0ZwYkY5cFpDSTZJbEpMUnkxQmQwMUJRVmd3ZFhaNlZWOTBUVnBYY2xCbFltdElOVUpNVVQwOUlpd2lhSEpsWmlJNkltaDBkSEE2THk5cFpuUjBkQzVqYjIwdmRXNXpkV0p6WTNKcFltVV9jM1ZpYzJOeWFYQjBhVzl1UFc1bGQzTnNaWFIwWlhKY2RUQXdNaloxYm5OMVluTmpjbWxpWlY5clpYazlNakUzTVRjek1EZzZOakppTURCalpqazRPV0ZqWVdVNU5tVTBNbVV3WW1FMk9XTXdNRGM0TW1OY2RUQXdNaloxZEcxZmJXVmthWFZ0UFVWdFlXbHNYSFV3TURJMmRYUnRYM052ZFhKalpUMURkWE4wYjIxbGNtbHZYSFV3TURJMmRYUnRYMk5oYlhCaGFXZHVQVlZ6WlhKZlZHVnRjR3hoZEdWY2RUQXdNaloxZEcxZmRHVnliVDFWYm5OMVluTmpjbWxpWlY5R2IyOTBaWEpjZFRBd01qWjFkRzFmWTI5dWRHVnVkRDFWYm5OMVluTmpjbWxpWlY5TWFXNXJJaXdpYVc1MFpYSnVZV3dpT2lKaE1XSmxNRE5oTnpBNFltTXpZVGhrWldZNVlUQm1JaXdpYkdsdWExOXBaQ0k2TkRFeU1UazNNREl5ZlEvMDFjNTBhNjY1MzIyMzAyY2M5NTU2ZmI3YmI0NjQyOTgwYjAwNGViNjBiYTgxMzNmMTIxY2UxMjRmMjg5MmUyOCIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJsaW5rLWZvb3Rlci11IiBzdHlsZT0iY29sb3I6ICM5OTk5OTk7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyI-PHNwYW4gY2xhc3M9ImxpbmstZm9vdGVyLXUiIHN0eWxlPSJjb2xvcjogIzk5OTk5OTsgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7Ij5VbnN1YnNjcmliZTwvc3Bhbj48L2E-IGZyb20gbmV3cywgdGlwcywgYW5kIGZlYXR1cmVzDQoJCQkJCQkJCQkJCQkJb3IgbWFuYWdlIHlvdXIgPGEgaHJlZj0iaHR0cHM6Ly9saW5rLmlmdHR0LmNvbS9lL2MvZXlKbGJXRnBiRjlwWkNJNklsSkxSeTFCZDAxQlFWZ3dkWFo2VlY5MFRWcFhjbEJsWW10SU5VSk1VVDA5SWl3aWFISmxaaUk2SW1oMGRIQnpPaTh2YVdaMGRIUXVZMjl0TDNObGRIUnBibWR6UDNWMGJWOXRaV1JwZFcwOVJXMWhhV3hjZFRBd01qWjFkRzFmYzI5MWNtTmxQVU4xYzNSdmJXVnlhVzljZFRBd01qWjFkRzFmWTJGdGNHRnBaMjQ5VlhObGNsOVVaVzF3YkdGMFpWeDFNREF5Tm5WMGJWOTBaWEp0UFZWdWMzVmljMk55YVdKbFgwWnZiM1JsY2x4MU1EQXlOblYwYlY5amIyNTBaVzUwUFVWdFlXbHNYMUJ5WldabGNtVnVZMlZ6SWl3aWFXNTBaWEp1WVd3aU9pSmhNV0psTUROaE56QTRZbU16WVRoa1pXWTVZVEJtSWl3aWJHbHVhMTlwWkNJNk5ERXlNVGszTURJemZRL2YzMmUxOTZmNGE1YTFiYjdhNGUwMDVkMWZiNDc1Y2YxZTgxMGJkODEwNGRiZDBlMmQzZTUwZTQ5YjBhMmIwOGUiIHRhcmdldD0iX2JsYW5rIiBjbGFzcz0ibGluay1mb290ZXItdSIgc3R5bGU9ImNvbG9yOiAjOTk5OTk5OyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsiPjxzcGFuIGNsYXNzPSJsaW5rLWZvb3Rlci11IiBzdHlsZT0iY29sb3I6ICM5OTk5OTk7IHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyI-ZW1haWwNCgkJCQkJCQkJCQkJCQkJCXByZWZlcmVuY2VzPC9zcGFuPjwvYT4uDQoJCQkJCQkJCQkJCQk8L3RkPg0KCQkJCQkJCQkJCQk8L3RyPg0KCQkJCQkJCQkJCTwvdGJvZHk-PC90YWJsZT4NCgkJCQkJCQkJCTwvdGQ-DQoJCQkJCQkJCTwvdHI-DQoJCQkJCQkJPC90Ym9keT48L3RhYmxlPg0KCQkJCQkJCTwhLS0gRU5EIE1haW4gLS0-DQoJCQkJCQk8L3RkPg0KCQkJCQk8L3RyPg0KCQkJCTwvdGJvZHk-PC90YWJsZT4NCgkJCQ0KCQkNCgkNCg0KDQoNCjxpbWcgc3JjPSJodHRwczovL2xpbmsuaWZ0dHQuY29tL2Uvby9leUpsYldGcGJGOXBaQ0k2SWxKTFJ5MUJkMDFCUVZnd2RYWjZWVjkwVFZwWGNsQmxZbXRJTlVKTVVUMDlJbjA9IiBzdHlsZT0iaGVpZ2h0OiAxcHggIWltcG9ydGFudDsgbWF4LWhlaWdodDogMXB4ICFpbXBvcnRhbnQ7IG1heC13aWR0aDogMXB4ICFpbXBvcnRhbnQ7IHdpZHRoOiAxcHggIWltcG9ydGFudCIvPjwvYm9keT48L2h0bWw-\"\n" +
            "            }\n" +
            "          }");
        await downloader.handlePart("./temp_test/test-two/", "", partObj);
        expect(jetpack.exists("./temp_test/test-two/2H0BWW-.html")).toBe("file");
    }, 10000);


    afterAll(() => {
        jetpack.remove("./temp_test");
    });

});

describe("URL connection download test", () => {
    let downloader = new GmailDownloader();
    let rootDir: FSJetpack;

    beforeAll(() => {
        rootDir = jetpack.dir("./temp_test");
    });

    test('Generic Image download', async () => {
        await downloader.connectForDownload("https://cdn.sstatic.net/Img/teams/teams-illo-free-sidebar-promo.svg", "./temp_test/");
        expect(true).toBeTruthy();
    });

    test('Image With Content Disposition', async () => {
       await downloader.connectForDownload("https://samples.fileformat.info/format/tiff/sample/7315d4f8d3ea4f198b18863470e5499b/GMARBLES.TIF?AWSAccessKeyId=0V91BEFA7GM093MEVMG2&Signature=iLWP8EYffTmv1mExJ84rAR68O14%3D&Expires=1640020127", "./temp_test/");
        expect(jetpack.exists("./temp_test/GMARBLES.TIF")).toBe("file");
    });

});
